# User Guide – Краткая инструкция для экспертов

## Описание

ProdReady.pro — это инструмент для автоматизации проектирования исследований биоэквивалентности. Система интегрирует PubMed, LLM-анализ (YandexGPT), автоматические расчёты и генерацию отчётов. Данный гайд предназначен для экспертов, которые будут проверять и валидировать работу решения.

---

## 1. Доступ к инструменту (развёрнутый сервер)

1. Откройте браузер и перейдите по предоставленному домену (уточните у администратора).
2. Для тестирования API используйте Swagger UI: `https://prodready.pro/docs`
3. Ознакомьтесь с доступными эндпоинтами и их описанием.

### Основные сценарии:

- **Поиск параметров:**
  - POST `/api/v1/search/start` — инициировать поиск фармакокинетических параметров по МНН.
  - GET `/api/v1/search/results/{project_id}` — получить результаты поиска.
- **Генерация дизайна:**
  - POST `/api/v1/design/generate` — рассчитать параметры исследования.
- **Генерация отчёта:**
  - GET `/api/v1/report/{project_id}` — скачать итоговый DOCX-отчёт.

---


## Важно о .env файлах

В проекте используются два файла переменных окружения:

- `.env` в корне — для Docker Compose. Содержит переменные для всех сервисов (например, DATABASE_URL, YANDEX_GPT_API_KEY и др.).
- `.env` в папке `backend` — для локального запуска Python-приложения. Может содержать только необходимые переменные для backend (см. пример в `backend/.env.example`).

Файлы могут отличаться по составу переменных. Не забывайте редактировать оба файла под свой сценарий запуска.

---
## 2. Локальное развёртывание (альтернатива)

### Быстрый старт через Docker Compose (рекомендуется)

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/pablodrev/bioeq_ai.git
   cd bioeq_ai
   ```
2. Скопируйте файл переменных окружения:
   ```bash
   cp .env.example .env
   ```
   Отредактируйте `.env`, указав свои значения (YANDEX_GPT_API_KEY, YANDEX_FOLDER_ID, DATABASE_URL и др.).
3. Запустите сервисы:
   ```bash
   docker compose up --build
   ```
4. Откройте Swagger UI: [http://localhost:8000/docs](http://localhost:8000/docs)

### Ручная установка (без Docker)

1. Установите Python 3.10+ и PostgreSQL 15+.
2. Перейдите в папку backend:
   ```bash
   cd backend
   ```
3. Скопируйте файл переменных окружения:
   ```bash
   cp .env.example .env
   ```
   Отредактируйте `.env`, указав свои значения (YANDEX_GPT_API_KEY, YANDEX_FOLDER_ID, DATABASE_URL и др.).
4. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
5. Запустите PostgreSQL (можно через Docker):
   ```bash
   docker run -d --name pharma-db -e POSTGRES_PASSWORD=password \
     -e POSTGRES_DB=pharma_mvp -p 5432:5432 postgres:15
   ```
6. Запустите сервер:
   ```bash
   python main.py
   ```
7. Swagger UI будет доступен на [http://localhost:8000/docs](http://localhost:8000/docs)

---

## 3. Проверка работы

- Используйте тестовые данные (МНН, дозировка, форма выпуска) для запуска поиска.
- Проверьте корректность извлечённых параметров и расчётов.
- Скачайте итоговый отчёт и проверьте его структуру и наполнение.

---

## 4. Дополнительная информация

- Подробная документация: [README.md](./README.md), [backend/README_BACKEND.md](./backend/README_BACKEND.md)
- Для вопросов и поддержки — обратитесь к разработчикам проекта.
